<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🃏 Texas Poker - 游戏桌</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body class="game-body">
  <!-- 顶部信息栏 -->
  <header class="topbar">
    <div class="topbar-left">
      <span class="logo">🃏 Texas Poker</span>
    </div>
    <div class="topbar-right">
      <span class="chip-icon">🪙</span>
      <span id="userBalance">0</span>
      <span class="separator">|</span>
      <span id="userName">--</span>
      <button class="btn-logout" onclick="logout()">退出</button>
    </div>
  </header>

  <div class="game-layout">
    <!-- 牌桌区域 -->
    <div class="table-wrapper">
      <div class="poker-table" id="pokerTable">
        <!-- 座位（JS动态生成） -->
        <div class="table-center">
          <div class="community-cards" id="communityCards">
            <!-- 公共牌 -->
          </div>
          <div class="pot-area">
            <span class="pot-label">底池</span>
            <span class="pot-amount" id="potAmount">0</span>
          </div>
          <div class="game-status" id="gameStatus">等待开始</div>
        </div>
        <!-- 座位容器 -->
        <div id="seats"></div>
      </div>

      <!-- 操作区 -->
      <div class="action-panel" id="actionPanel">
        <div class="my-cards" id="myCards">
          <span class="my-cards-label">我的手牌</span>
          <div id="myHandCards"></div>
        </div>
        <div class="action-buttons" id="actionButtons">
          <div class="call-info" id="callInfo"></div>
          <div class="btn-row">
            <button class="btn-action btn-fold" id="btnFold" onclick="doAction('fold')" disabled>弃牌</button>
            <button class="btn-action btn-check" id="btnCheck" onclick="doAction('check')" disabled>过牌</button>
            <button class="btn-action btn-call" id="btnCall" onclick="doAction('call')" disabled>跟注</button>
            <div class="raise-group">
              <input type="number" id="raiseAmount" placeholder="加注金额" min="0" class="raise-input">
              <button class="btn-action btn-raise" id="btnRaise" onclick="doAction('raise')" disabled>加注</button>
            </div>
          </div>
        </div>
        <div class="room-controls">
          <button class="btn-room btn-start" id="btnStart" onclick="startGame()">开始游戏</button>
          <button class="btn-room btn-bot" onclick="addBot()">➕ 添加机器人</button>
        </div>
      </div>
    </div>

    <!-- 日志区域 -->
    <div class="log-panel">
      <div class="log-title">📋 游戏日志</div>
      <div class="log-content" id="logContent"></div>
    </div>
  </div>

  <!-- 胜利提示 -->
  <div class="win-overlay" id="winOverlay" style="display:none">
    <div class="win-card">
      <div class="win-icon">🏆</div>
      <div class="win-text" id="winText"></div>
      <div class="win-sub" id="winSub"></div>
    </div>
  </div>

  <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
  <script src="/js/game.js"></script>
</body>
</html>
